<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>兄弟连年会----一等奖</title>
</head>
<body>
<link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

<style type="text/css">
    * {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }

    a, img {
        border: 0;
        text-decoration: none;
    }

    body {
        font: 12px/180% Arial;
        background: #333;
    }

    .brand a {
        display: block;
        float: left;
        margin: 20px;
        width: 450px;
        height: 600px;
        text-align: center;
        position: relative;
    }

    .brand img {
        width: 450px;
        height: 600px;
    }

    .brand .info {
        background-color: #f0f0f0;
        color: #369242;
        line-height: 240px;
    }

    .vertical .info {
        height: 600px;
        margin: 0 auto;
    }

    .clear {
        clear: both;
    }

    #vertical .img1 {
        display: none;
    }

    .mh{
        -webkit-filter:blur(50px);
    }

    .centent {
        width: 28px;
        margin: 0 auto;
    }
</style>

<div style="width:450px;margin:25% auto 0px;">

    <div id="vertical" class="brand vertical">
        <a class="a1" href="#" style="overflow: hidden;"><img class="img1" style="display: none;" alt="" src=''/>
            <div class="info">
                <img src="images/bj.jpg">
            </div>
        </a>
    </div>

    <div class="clear"></div>
</div>
<div class="centent">
    <button class="start btn btn-success">抽奖</button>
</div>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript">
    var names = ["于晓春","管长龙","黄磊","苏畅","马达","盛亚兵","黄超","张韬","php于倩","邢顺华","钱沙沙","钱霄宇","汪春波","徐玉玲","贾龙飞","孙德宝","叶瑞","ui于倩","李宛鸿","刘红威","江南","吴瑞清","徐承花","李春艳","金树雪","牛萃","牛文平","黄亚甜","沈丽红","程健","尹红艳","檀结红","徐晓静","张爱华","郭丹丹","郭玉萍","夏蔚","龚丽丽","宋佳妮","徐静贤","孙丽萍","李媛媛","梁俊","武迪","侯清心","薛通","时昌旭","张宁","邹存野","郑忠意","宁宇","秦静","邵成","黄颖亮","王威风","李想","李原原","彭岸明","范天烨","孙金涛","马政","徐佳春","蔡政委","刘俊蔚","周晓芸","付铭","柳军航","黄豪","戴伟","王常林","李雷","袁琼舟","刘晓松","沈钰","江宝华","张鑫","连妍妍","候黎明","左健","吴梦君","翟璐璐","蒯海峰"];
    var level = JSON.parse(sessionStorage.getItem('level'));
    for (var i = 0; i < names.length; i++) {
        for(var j=0;j<level.length;j++)
        {
            if(level[j] == names[i])
            {
                names.splice(i, 1);
            }
        }
    }
    //过滤掉已经中奖的人
    names.sort(function () {
        return 0.5 - Math.random();
    });
    var name = '';
    $('.start').click(function () {
        //取翻转秒数5-10秒
        $(this).hide();
        var stime = ran(5, 8) * 1000;
        var timer1 = null;
        var timerstop = null;
        timer1 = setInterval(function () {
            name = names[ran(0, names.length - 1)];
            $('.a1 .img1').attr('src', './images/' + name + '.jpg');
            $('.a1 .img1').stop().animate({'width': 0}, 100, function () {
                $('.a1 .img1').show().next().hide();
                $('.a1 .img1').animate({'width': '450px'}, 100);
            });
            //翻转第一张牌
        }, 200);
        setTimeout(function () {
            $('.img1').addClass('mh');
        },stime-300);
        //提前1秒加马赛克
        timerstop = setTimeout(function () {
            clearInterval(timer1);
            timer1 = null;
            return false;
        }, stime);
    });
    function ran(min, max) {
        return parseInt(Math.random() * (max - min + 1) + min)
    }
    $('.img1').click(function () {
        $(this).css({'-webkit-transition':'ease-out 5s','-webkit-filter':'blur(0)'});
    });
</script>
</body>
</html>
